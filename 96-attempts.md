● Worst Case Time Calculation:

  ---                                                                                                                 Per Model (4 attempts):
  ┌─────────┬──────────┬──────────────┬────────────────┐                                                            
  │ Attempt │ API Call │ Backoff Wait │    Subtotal    │
  ├─────────┼──────────┼──────────────┼────────────────┤
  │ 1       │ ~3s      │ 1.0s         │ 4s             │
  ├─────────┼──────────┼──────────────┼────────────────┤
  │ 2       │ ~3s      │ 2.0s         │ 5s             │
  ├─────────┼──────────┼──────────────┼────────────────┤
  │ 3       │ ~3s      │ 4.0s         │ 7s             │
  ├─────────┼──────────┼──────────────┼────────────────┤
  │ 4       │ ~3s      │ 0 (shift)    │ 3s             │
  ├─────────┼──────────┼──────────────┼────────────────┤
  │ Total   │ 12s      │ 7s           │ ~19s per model │
  └─────────┴──────────┴──────────────┴────────────────┘
  ---
  Per Key (4 models):
  4 models × 19s = ~76 seconds per key

  ---
  All Keys (6 keys):
  6 keys × 76s = ~456 seconds = ~7.5 minutes

  ---
  Summary:
  ┌──────────────────────────────────────┬────────────────┐
  │               Scenario               │      Time      │
  ├──────────────────────────────────────┼────────────────┤
  │ Best case (1st attempt works)        │ ~2-3 seconds   │
  ├──────────────────────────────────────┼────────────────┤
  │ Typical (few retries)                │ ~10-30 seconds │
  ├──────────────────────────────────────┼────────────────┤
  │ Bad (1 key exhausted, shift to next) │ ~1-2 minutes   │
  ├──────────────────────────────────────┼────────────────┤
  │ Worst case (all 96 fail)             │ ~7-10 minutes  │
  └──────────────────────────────────────┴────────────────┘
  ---
  Visual Timeline (worst case):

  Key 1: [M1: 19s] [M2: 19s] [M3: 19s] [M4: 19s] = 76s
  Key 2: [M1: 19s] [M2: 19s] [M3: 19s] [M4: 19s] = 76s
  Key 3: [M1: 19s] [M2: 19s] [M3: 19s] [M4: 19s] = 76s
  Key 4: [M1: 19s] [M2: 19s] [M3: 19s] [M4: 19s] = 76s
  Key 5: [M1: 19s] [M2: 19s] [M3: 19s] [M4: 19s] = 76s
  Key 6: [M1: 19s] [M2: 19s] [M3: 19s] [M4: 19s] = 76s
                                                  ------
                                           Total: ~456s (7.5 min)

  ---
  Want faster failure? Reduce these in .env:

  MAX_RETRIES=1              # 2 attempts instead of 4
  BASE_DELAY_SECONDS=0.5     # Start with 0.5s instead of 1s
  MAX_DELAY_SECONDS=5.0      # Cap at 5s instead of 30s

  This would reduce worst case to ~2-3 minutes.

---

All Configuration    Cases:                                                                                          
  
  ---                                                                                                       Case 1: Original (Conservative)
  MAX_RETRIES=3                                                                                                     
  BASE_DELAY_SECONDS=1.0
  MAX_DELAY_SECONDS=30.0
  ┌────────────────────┬──────────────┐
  │       Metric       │    Value     │
  ├────────────────────┼──────────────┤
  │ Attempts per model │ 4            │
  ├────────────────────┼──────────────┤
  │ Total attempts     │ 96           │
  ├────────────────────┼──────────────┤
  │ Per model time     │ ~19s         │
  ├────────────────────┼──────────────┤
  │ Per key time       │ ~76s         │
  ├────────────────────┼──────────────┤
  │ Worst case         │ ~7.5 minutes │
  └────────────────────┴──────────────┘
  ---
  Case 2: Balanced (Recommended)
  MAX_RETRIES=2
  BASE_DELAY_SECONDS=0.5
  MAX_DELAY_SECONDS=10.0
  ┌───────────┬──────────┬─────────┬──────────┐
  │  Attempt  │ API Call │ Backoff │ Subtotal │
  ├───────────┼──────────┼─────────┼──────────┤
  │ 1         │ ~3s      │ 0.5s    │ 3.5s     │
  ├───────────┼──────────┼─────────┼──────────┤
  │ 2         │ ~3s      │ 1.0s    │ 4s       │
  ├───────────┼──────────┼─────────┼──────────┤
  │ 3         │ ~3s      │ 0       │ 3s       │
  ├───────────┼──────────┼─────────┼──────────┤
  │ Per model │          │         │ ~10.5s   │
  └───────────┴──────────┴─────────┴──────────┘
  ┌────────────────────┬──────────────┐
  │       Metric       │    Value     │
  ├────────────────────┼──────────────┤
  │ Attempts per model │ 3            │
  ├────────────────────┼──────────────┤
  │ Total attempts     │ 72           │
  ├────────────────────┼──────────────┤
  │ Per key time       │ ~42s         │
  ├────────────────────┼──────────────┤
  │ Worst case         │ ~4.2 minutes │
  └────────────────────┴──────────────┘
  ---
  Case 3: Fast
  MAX_RETRIES=1
  BASE_DELAY_SECONDS=0.5
  MAX_DELAY_SECONDS=5.0
  ┌───────────┬──────────┬─────────┬──────────┐
  │  Attempt  │ API Call │ Backoff │ Subtotal │
  ├───────────┼──────────┼─────────┼──────────┤
  │ 1         │ ~3s      │ 0.5s    │ 3.5s     │
  ├───────────┼──────────┼─────────┼──────────┤
  │ 2         │ ~3s      │ 0       │ 3s       │
  ├───────────┼──────────┼─────────┼──────────┤
  │ Per model │          │         │ ~6.5s    │
  └───────────┴──────────┴─────────┴──────────┘
  ┌────────────────────┬──────────────┐
  │       Metric       │    Value     │
  ├────────────────────┼──────────────┤
  │ Attempts per model │ 2            │
  ├────────────────────┼──────────────┤
  │ Total attempts     │ 48           │
  ├────────────────────┼──────────────┤
  │ Per key time       │ ~26s         │
  ├────────────────────┼──────────────┤
  │ Worst case         │ ~2.6 minutes │
  └────────────────────┴──────────────┘
  ---
  Case 4: Aggressive (Fastest)
  MAX_RETRIES=0
  BASE_DELAY_SECONDS=0
  MAX_DELAY_SECONDS=0
  ┌───────────┬──────────┬─────────┬──────────┐
  │  Attempt  │ API Call │ Backoff │ Subtotal │
  ├───────────┼──────────┼─────────┼──────────┤
  │ 1         │ ~3s      │ 0       │ 3s       │
  ├───────────┼──────────┼─────────┼──────────┤
  │ Per model │          │         │ ~3s      │
  └───────────┴──────────┴─────────┴──────────┘
  ┌────────────────────┬──────────────┐
  │       Metric       │    Value     │
  ├────────────────────┼──────────────┤
  │ Attempts per model │ 1            │
  ├────────────────────┼──────────────┤
  │ Total attempts     │ 24           │
  ├────────────────────┼──────────────┤
  │ Per key time       │ ~12s         │
  ├────────────────────┼──────────────┤
  │ Worst case         │ ~1.2 minutes │
  └────────────────────┴──────────────┘
  ---
  Summary Table:
  ┌──────────────┬─────────┬────────────────┬─────────────────┐
  │     Case     │ Retries │ Total Attempts │ Worst Case Time │
  ├──────────────┼─────────┼────────────────┼─────────────────┤
  │ Conservative │ 3       │ 96             │ ~7.5 min        │
  ├──────────────┼─────────┼────────────────┼─────────────────┤
  │ Balanced     │ 2       │ 72             │ ~4.2 min        │
  ├──────────────┼─────────┼────────────────┼─────────────────┤
  │ Fast         │ 1       │ 48             │ ~2.6 min        │
  ├──────────────┼─────────┼────────────────┼─────────────────┤
  │ Aggressive   │ 0       │ 24             │ ~1.2 min        │
  └──────────────┴─────────┴────────────────┴─────────────────┘
  ---
  Trade-off:

  More retries = Higher success chance, but slower failure
  Less retries = Faster failure, but might miss recoverable errors
